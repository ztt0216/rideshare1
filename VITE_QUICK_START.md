# ğŸš€ Vite + React Frontend å¿«é€Ÿå¯åŠ¨æŒ‡å—

## âœ¨ Viteçš„ä¼˜åŠ¿

ç›¸æ¯”Create React App (CRA):
- âš¡ **æå¿«çš„å¯åŠ¨é€Ÿåº¦**: ç§’çº§å¯åŠ¨ï¼Œè€Œä¸æ˜¯åˆ†é’Ÿ
- ğŸ”¥ **å³æ—¶çƒ­æ›´æ–° (HMR)**: ä»£ç ä¿å­˜åç«‹å³åœ¨æµè§ˆå™¨ä¸­æ›´æ–°
- ğŸ“¦ **æ›´å°çš„åŒ…ä½“ç§¯**: ä¼˜åŒ–çš„æ„å»ºè¾“å‡º
- ğŸ› ï¸ **ç°ä»£åŒ–å·¥å…·é“¾**: åŸç”ŸESæ¨¡å—æ”¯æŒ
- ğŸ¯ **æ›´å°‘çš„ä¾èµ–**: å®‰è£…æ›´å¿«ï¼Œnode_modulesæ›´å°

## ğŸ“ é¡¹ç›®ç»“æ„

```
frontend-new/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/         # Reactç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ Login.js
â”‚   â”‚   â”œâ”€â”€ Register.js
â”‚   â”‚   â”œâ”€â”€ RiderDashboard.js
â”‚   â”‚   â””â”€â”€ DriverDashboard.js
â”‚   â”œâ”€â”€ services/           # APIæœåŠ¡
â”‚   â”‚   â””â”€â”€ api.js
â”‚   â”œâ”€â”€ App.jsx             # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”œâ”€â”€ App.css             # åº”ç”¨æ ·å¼
â”‚   â”œâ”€â”€ main.jsx            # å…¥å£æ–‡ä»¶
â”‚   â””â”€â”€ index.css           # å…¨å±€æ ·å¼
â”œâ”€â”€ .env                    # ç¯å¢ƒå˜é‡ï¼ˆå·²åˆ›å»ºï¼‰
â”œâ”€â”€ .env.example            # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ vite.config.js          # Viteé…ç½®
â””â”€â”€ package.json            # é¡¹ç›®ä¾èµ–
```

## ğŸ¯ æ­¥éª¤1: é…ç½®åç«¯URL

### æ–¹æ¡ˆA: ä½¿ç”¨Renderéƒ¨ç½²çš„åç«¯ï¼ˆæ¨èï¼‰

ç¼–è¾‘ `.env` æ–‡ä»¶ï¼Œå¡«å…¥æ‚¨çš„Renderåç«¯URLï¼š

```env
VITE_API_URL=https://your-backend.onrender.com/api
```

**è·å–URLæ­¥éª¤ï¼š**
1. æ‰“å¼€ Render Dashboard
2. è¿›å…¥æ‚¨çš„ `rideshare-backend` æœåŠ¡
3. å¤åˆ¶é¡µé¢é¡¶éƒ¨çš„URLï¼ˆä¾‹å¦‚ï¼š`https://rideshare-backend-abcd.onrender.com`ï¼‰
4. åœ¨URLåé¢æ·»åŠ  `/api`

### æ–¹æ¡ˆB: ä½¿ç”¨æœ¬åœ°åç«¯ï¼ˆå¼€å‘ï¼‰

å°† `.env` ç•™ç©ºæˆ–æ³¨é‡Šæ‰ï¼š
```env
# VITE_API_URL=
```

è¿™æ ·ä¼šä½¿ç”¨ `vite.config.js` ä¸­çš„proxyé…ç½®ï¼Œè‡ªåŠ¨è½¬å‘åˆ° `http://localhost:8080`

## ğŸš€ æ­¥éª¤2: å¯åŠ¨å‰ç«¯

```powershell
cd d:\learning\2025sm2\SWEN90007\rideshare1\frontend-new

# å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run dev
```

**é¢„æœŸè¾“å‡ºï¼š**
```
VITE v7.1.10  ready in 451 ms

âœ  Local:   http://localhost:3000/
âœ  Network: use --host to expose
âœ  press h + enter to show help
```

æµè§ˆå™¨ä¼šè‡ªåŠ¨æ‰“å¼€ `http://localhost:3000` ğŸ‰

## ğŸ§ª æ­¥éª¤3: æµ‹è¯•åº”ç”¨

### 3.1 æ³¨å†Œä¹˜å®¢è´¦å·
1. ç‚¹å‡» "Register"
2. å¡«å†™ä¿¡æ¯ï¼š
   - Username: `alice`
   - Email: `alice@example.com`
   - Password: `password123`
   - Role: `Rider`
3. æäº¤æ³¨å†Œ

### 3.2 æ·»åŠ é’±åŒ…ä½™é¢
1. åœ¨Rider Dashboardä¸­
2. è¾“å…¥é‡‘é¢ï¼š`500`
3. ç‚¹å‡» "Add Funds"

### 3.3 è¯·æ±‚è¡Œç¨‹
1. å¡«å†™è¡Œç¨‹ä¿¡æ¯ï¼š
   - Pickup: `Melbourne CBD`
   - Dropoff: `Melbourne Airport`
   - Fare: `60`
2. ç‚¹å‡» "Request Ride"

### 3.4 æ³¨å†Œå¸æœºè´¦å·ï¼ˆæ–°çª—å£ï¼‰
1. æ‰“å¼€**æ— ç—•çª—å£**
2. è®¿é—® `http://localhost:3000`
3. æ³¨å†Œå¸æœºè´¦å·ï¼ˆUsername: `bob`ï¼‰

### 3.5 å®Œæˆè¡Œç¨‹æµç¨‹
1. å¸æœºæ¥å—è¡Œç¨‹
2. å¸æœºå¼€å§‹è¡Œç¨‹
3. å¸æœºå®Œæˆè¡Œç¨‹
4. æŸ¥çœ‹é’±åŒ…ä½™é¢å˜åŒ–

## âš¡ Viteç‰¹æ€§

### çƒ­æ¨¡å—æ›¿æ¢ (HMR)
ä¿®æ”¹ä»»ä½•æ–‡ä»¶åä¿å­˜ï¼Œæµè§ˆå™¨**ç«‹å³æ›´æ–°**ï¼Œæ— éœ€åˆ·æ–°ï¼

### å¿«é€Ÿæ„å»º
```powershell
# ç”Ÿäº§ç¯å¢ƒæ„å»º
npm run build

# é¢„è§ˆæ„å»ºç»“æœ
npm run preview
```

### ç¯å¢ƒå˜é‡
- **å¼€å‘ç¯å¢ƒ**: `.env`
- **ç”Ÿäº§ç¯å¢ƒ**: `.env.production`
- **æ‰€æœ‰ç¯å¢ƒå˜é‡å¿…é¡»ä»¥ `VITE_` å¼€å¤´**

ç¤ºä¾‹ï¼š
```javascript
import.meta.env.VITE_API_URL  // è¯»å–ç¯å¢ƒå˜é‡
```

## ğŸ”§ Viteé…ç½®è¯´æ˜

### vite.config.js
```javascript
export default defineConfig({
  plugins: [react()],
  server: {
    port: 3000,              // å¼€å‘æœåŠ¡å™¨ç«¯å£
    proxy: {
      '/api': {              // APIä»£ç†
        target: 'http://localhost:8080',
        changeOrigin: true,
      }
    }
  }
})
```

### ä»£ç†å·¥ä½œåŸç†
å½“ `VITE_API_URL` æœªè®¾ç½®æ—¶ï¼š
- å‰ç«¯è¯·æ±‚: `http://localhost:3000/api/users`
- Viteä»£ç†åˆ°: `http://localhost:8080/api/users`
- è§£å†³CORSé—®é¢˜

## ğŸ“Š æ€§èƒ½å¯¹æ¯”

| ç‰¹æ€§ | Create React App | Vite |
|------|------------------|------|
| å¯åŠ¨æ—¶é—´ | 30-60ç§’ | <1ç§’ |
| çƒ­æ›´æ–°é€Ÿåº¦ | 1-3ç§’ | <100ms |
| æ„å»ºæ—¶é—´ | 2-5åˆ†é’Ÿ | 30-60ç§’ |
| node_moduleså¤§å° | ~300MB | ~150MB |
| åŒ…æ•°é‡ | 1300+ | 180+ |

## ğŸ› å¸¸è§é—®é¢˜

### ç«¯å£3000è¢«å ç”¨
```powershell
# ä¿®æ”¹ vite.config.js ä¸­çš„port:
server: {
  port: 5173,  # ä½¿ç”¨å…¶ä»–ç«¯å£
}
```

### ç¯å¢ƒå˜é‡ä¸ç”Ÿæ•ˆ
1. ç¡®ä¿å˜é‡åä»¥ `VITE_` å¼€å¤´
2. ä¿®æ”¹ `.env` åéœ€è¦**é‡å¯å¼€å‘æœåŠ¡å™¨**
3. ä½¿ç”¨ `import.meta.env.VITE_XXX` è€Œä¸æ˜¯ `process.env`

### CORSé”™è¯¯
1. æ£€æŸ¥åç«¯URLæ˜¯å¦æ­£ç¡®
2. ç¡®è®¤åç«¯CORSé…ç½®
3. å¦‚æœä½¿ç”¨æœ¬åœ°åç«¯ï¼Œç¡®ä¿proxyé…ç½®æ­£ç¡®

### ç»„ä»¶ä¸æ›´æ–°
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
2. ç¡®ä¿ç»„ä»¶æ–‡ä»¶åå¤§å†™å¼€å¤´
3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

## ğŸ“ å¯ç”¨å‘½ä»¤

```powershell
npm run dev       # å¯åŠ¨å¼€å‘æœåŠ¡å™¨
npm run build     # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run preview   # é¢„è§ˆæ„å»ºç»“æœ
npm run lint      # ä»£ç æ£€æŸ¥ï¼ˆå¦‚æœé…ç½®äº†ï¼‰
```

## ğŸ¨ æ ·å¼ç³»ç»Ÿ

- **å…¨å±€æ ·å¼**: `src/index.css`
- **åº”ç”¨æ ·å¼**: `src/App.css`
- **ç»„ä»¶æ ·å¼**: å†…è”åœ¨ç»„ä»¶æ–‡ä»¶ä¸­

## ğŸ”„ ä»CRAè¿ç§»çš„å˜åŒ–

1. **ç¯å¢ƒå˜é‡**: `REACT_APP_*` â†’ `VITE_*`
2. **å…¥å£æ–‡ä»¶**: `src/index.js` â†’ `src/main.jsx`
3. **HTMLæ¨¡æ¿**: `public/index.html` â†’ `index.html`ï¼ˆç§»åˆ°æ ¹ç›®å½•ï¼‰
4. **è®¿é—®ç¯å¢ƒå˜é‡**: `process.env` â†’ `import.meta.env`

## âœ… å¿«é€Ÿæ£€æŸ¥æ¸…å•

- [ ] `.env` æ–‡ä»¶å·²é…ç½®åç«¯URL
- [ ] è¿è¡Œ `npm run dev` æˆåŠŸå¯åŠ¨
- [ ] æµè§ˆå™¨æ‰“å¼€ `http://localhost:3000`
- [ ] å¯ä»¥æ³¨å†Œç”¨æˆ·
- [ ] å¯ä»¥æ·»åŠ é’±åŒ…ä½™é¢
- [ ] å¯ä»¥è¯·æ±‚è¡Œç¨‹
- [ ] HMRæ­£å¸¸å·¥ä½œï¼ˆä¿®æ”¹æ–‡ä»¶ç«‹å³æ›´æ–°ï¼‰

## ğŸš€ ä¸‹ä¸€æ­¥

1. âœ… å‰ç«¯ä½¿ç”¨Viteè¿è¡Œ
2. âœ… è¿æ¥åˆ°Renderåç«¯
3. ğŸ”„ æµ‹è¯•å®Œæ•´åŠŸèƒ½
4. ğŸ”„ éƒ¨ç½²å‰ç«¯åˆ°Vercel/Netlifyï¼ˆå¯é€‰ï¼‰

---

**å‡†å¤‡å¥½äº†å—ï¼Ÿæ‰§è¡Œæ­¥éª¤1é…ç½®åç«¯URLï¼Œç„¶åè¿è¡Œ `npm run dev`ï¼** âš¡
